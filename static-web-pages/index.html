<!DOCTYPE html>
<html data-ng-app='ngQuickDateDemo'>
<head>
    <title>serverless Demo</title>
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="css/ng-quick-date-plus-default-theme.css" media="all" />
    <style type="text/css">
        form.ng-dirty .ng-invalid .quickdate-button {
            border: solid 1px red;
        }
    </style>
</head>
<body>
    <div style="width:100%" align="center" ng-controller='DemoCtrl'>
	<h2>Angular date picker directive as serverless workweek micro-service consumer</h2>
        <form name='date_form' novalidate>
            <p>
                <label>My Date</label>
                <quick-datepicker name='myDate' ng-model='myDate' workweek-Service='workweek'  required></quick-datepicker>
            </p>
            <br />
            <br />
       	    <a href='' ng-click='setToToday()'>Set Date to Today</a>
            <br />
            <br />
 	    <p>
                <label>Command line to get workweek : </label>
                <label id='cmd_line' />
            </p>
            <br/>
            <br/>
        View detail in <a href='https://github.com/doughuang168/serverless-workweek-microservice'>GitHub</a>
        </form>
        <br />
        <br />
    </div>
    <script type="text/javascript" src="js/angular.js"></script>
    <script type="text/javascript" src="js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/ng-quick-date.js"></script>
    <script type='text/javascript'>
      var str = window.location.href;
      var re = /index\.html/gi;
      //var endpoint = str.replace(re, '');
      var endpoint = 'https://xdi4f4c0u8.execute-api.us-west-2.amazonaws.com/latest/';
      document.getElementById("cmd_line").innerHTML = "curl " + endpoint+ "workweek/2015-02-01";
      var app = angular.module("ngQuickDateDemo", ["ngQuickDate"]);
      app.config(function(ngQuickDateDefaultsProvider) {
          return ngQuickDateDefaultsProvider.set({  
        });
      });
      app.controller("DemoCtrl", function($scope) {
        $scope.myDate = null
        $scope.setToToday = function () { $scope.myDate = new Date(); }
      });
    </script>
</body>
</html>
